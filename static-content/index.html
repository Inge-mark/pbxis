<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html> <head>
<title>PBXIS</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
</head>
<script
src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"
type="text/javascript"></script>
<script type="text/javascript" src="pbxis.js"></script>
<script type="text/javascript">
  var my_q = 'q1'
  function pbx_connection(is_connected) {
    $('#connection').html(is_connected? "connected" : "disconnected");
    if (!is_connected)
      $.each(['agent_status','ext_status','queue_count'],
      function(_,id) { $('#'+id).html('unknown'); })
  }
  function pbx_agent_status(queue, status) {
    if (queue == my_q) $('#agent_status').html(status);
  }
  function pbx_extension_status(status) {
    $('#ext_status').html(status);
  }
  function pbx_queue_count(queue, count) {
    if (queue == my_q) $('#queue_count').html(count)
  }
  function pbx_phone_num(num) {
    $('#phone_num').html(num);
  }
  $(function() { pbx_start("148", [my_q, 'q2']);})
</script>
<body>
<table border="1px">
  <tr><td align="right">Connection</td><td><span id="connection">disconnected</span></td></tr>
  <tr><td align="right">Extension status</td><td><span id="ext_status">unknown</span></td></tr>
  <tr><td align="right">Agent status</td><td><span id="agent_status">unknown</span></td></tr>
  <tr><td align="right">Queue count</td><td><span id="queue_count">unknown</span></td></tr>
  <tr><td align="right">Phone number</td><td><span id="phone_num">unknown</span></td></tr>
</table>


<hr>
</body> </html>
